# LinguaSync Plugin 测试计划

## ✅ 构建状态
- **编译**: 成功 ✓
- **TypeScript**: 无错误 ✓
- **打包**: 完成 ✓

## 🧪 测试清单

### 1. YouTube 视频导入测试

#### 1.1 基础功能
- [ ] 打开 Obsidian，确认 LinguaSync 插件已启用
- [ ] 使用命令面板 (Ctrl/Cmd + P) 搜索 "Import YouTube Video"
- [ ] 测试标准 YouTube URL:
  ```
  https://www.youtube.com/watch?v=dQw4w9WgXcQ
  ```
- [ ] 测试短链接:
  ```
  https://youtu.be/dQw4w9WgXcQ
  ```
- [ ] 验证笔记生成成功
- [ ] 检查是否包含：
  - [ ] 视频元数据（标题、频道、时长、日期）
  - [ ] 封面图片下载到 Assets 文件夹
  - [ ] 英文字幕转录
  - [ ] SRT 文件生成

#### 1.2 字幕语言测试
- [ ] 导入一个有多语言字幕的视频
- [ ] 确认获取的是**英文字幕**而非中文
- [ ] 检查生成的 SRT 文件语言正确

### 2. Bilibili 视频导入测试

#### 2.1 基础功能
- [ ] 使用命令 "Import YouTube Video"（支持多平台）
- [ ] 测试 Bilibili URL:
  ```
  https://www.bilibili.com/video/BV1qyCsBrEuB/
  ```
- [ ] 验证笔记生成成功
- [ ] 检查是否包含：
  - [ ] 视频元数据（标题、UP主、时长、日期）
  - [ ] 封面图片
  - [ ] 字幕转录

#### 2.2 字幕获取测试
- [ ] 测试有字幕的 Bilibili 视频
- [ ] 测试无字幕的 Bilibili 视频（应显示友好错误）
- [ ] 测试多语言字幕视频（应优先中文）

### 3. 模板自定义测试

#### 3.1 Frontmatter 属性管理
- [ ] 打开插件设置
- [ ] 找到 "Note Template" 区域
- [ ] 点击 "Manage Properties" 按钮
- [ ] 测试添加新属性：
  1. 点击 "Add Property"
  2. 输入 `author: "test"`
  3. 保存
- [ ] 测试禁用属性：
  1. 点击属性左侧的眼睛图标
  2. 确认属性被注释（显示为灰色）
- [ ] 测试删除属性：
  1. 点击垃圾桶图标
  2. 确认属性被移除
- [ ] 测试拖拽排序（如果支持）

#### 3.2 模板变量测试
在模板中使用以下变量，导入视频后验证：
- [ ] `{{url}}` - 视频 URL
- [ ] `{{title}}` - 视频标题
- [ ] `{{channel}}` - 频道/UP主名称
- [ ] `{{duration}}` - 时长
- [ ] `{{date}}` - 当前日期
- [ ] `{{uploadDate}}` - 上传日期
- [ ] `{{cover}}` - 封面图片链接
- [ ] `{{transcript}}` - 字幕转录文本
- [ ] `{{srtLinks}}` - SRT 文件链接

#### 3.3 重置模板
- [ ] 修改模板后点击 "Reset to Default"
- [ ] 确认模板恢复到默认值

### 4. 密码管理器测试

#### 4.1 打开密码管理器
- [ ] 进入插件设置
- [ ] 找到 "Account" 区域
- [ ] 点击外部链接图标按钮
- [ ] 确认密码管理器模态框打开

#### 4.2 添加凭据
- [ ] 点击 "Add Credential" 按钮
- [ ] 填写表单：
  - **Type**: 选择 "WebDAV"
  - **Service Name**: "My WebDAV Server"
  - **Username**: "testuser"
  - **Password**: "testpass123"
- [ ] 点击 "Save"
- [ ] 确认凭据出现在列表中

#### 4.3 编辑凭据
- [ ] 点击凭据右侧的编辑图标
- [ ] 修改信息
- [ ] 保存
- [ ] 确认修改生效

#### 4.4 删除凭据
- [ ] 点击凭据右侧的删除图标
- [ ] 确认凭据被移除

#### 4.5 测试所有凭据类型
- [ ] WebDAV
- [ ] Nextcloud
- [ ] Baidu Netdisk (百度网盘)
- [ ] 其他自定义类型

#### 4.6 密码可见性切换
- [ ] 在编辑模态框中点击眼睛图标
- [ ] 确认密码显示/隐藏切换正常

### 5. AI 翻译测试（如果启用）

- [ ] 在设置中启用 AI 翻译
- [ ] 配置 API 密钥
- [ ] 导入视频
- [ ] 检查是否生成双语字幕

### 6. 文件组织测试

#### 6.1 文件夹结构
- [ ] 检查笔记保存位置：`Languages/Videos/`
- [ ] 检查资源保存位置：`Languages/Assets/`
- [ ] 验证封面图片命名格式
- [ ] 验证 SRT 文件命名格式

#### 6.2 自定义文件夹
- [ ] 在设置中修改 `videoFolder`
- [ ] 在设置中修改 `assetsFolder`
- [ ] 导入视频验证文件保存到新位置

### 7. 错误处理测试

- [ ] 测试无效的 YouTube URL
- [ ] 测试无效的 Bilibili URL
- [ ] 测试网络断开情况
- [ ] 测试无字幕视频
- [ ] 测试私有/受限视频
- [ ] 验证错误提示友好且清晰

### 8. 性能测试

- [ ] 导入一个 30 分钟以上的长视频
- [ ] 观察进度提示
- [ ] 确认没有卡顿或崩溃
- [ ] 检查生成的文件大小合理

### 9. 兼容性测试

- [ ] 测试与其他插件的兼容性
- [ ] 测试在不同主题下的 UI 显示
- [ ] 确认设置持久化（重启 Obsidian 后设置保留）

## 🐛 已知问题记录

在此记录测试中发现的问题：

| 问题描述 | 严重程度 | 复现步骤 | 状态 |
|---------|---------|---------|------|
|         |         |         |      |

## ✨ 测试结果总结

完成测试后填写：

- **测试日期**: 
- **通过项**: __/50
- **失败项**: __/50
- **整体评价**: 
- **建议改进**: 

## 📝 测试注意事项

1. **网络要求**: 确保有稳定的网络连接
2. **API 限制**: YouTube/Bilibili 可能有请求频率限制
3. **存储空间**: 确保有足够的磁盘空间存储视频资源
4. **测试数据**: 建议使用测试库进行测试，避免污染主知识库

## 🚀 快速测试命令

```bash
# 重新构建插件
cd "c:\Users\dashell-f\Documents\obsidian learner\.obsidian\plugins\obsidian-sample-plugin-master"
npm run build

# 检查构建输出
ls main.js
ls manifest.json
```

## 📚 测试视频推荐

### YouTube
- 短视频 (1-5分钟): https://youtu.be/dQw4w9WgXcQ
- 中等视频 (10-20分钟): 搜索 "English learning"
- 长视频 (30分钟+): 搜索 "Documentary"

### Bilibili
- 有字幕: https://www.bilibili.com/video/BV1qyCsBrEuB/
- 多语言: 搜索技术教程类视频

---

**祝测试顺利！如有问题请及时记录并反馈。**
