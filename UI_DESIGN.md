# LinguaSync 进度通知 UI 设计

## 🎨 设计理念

### Glass-morphism (玻璃态设计)
采用现代化的玻璃态设计风格，灵感来自 macOS Big Sur、iOS 和 Windows 11 的 Fluent Design。

## ✨ 设计特点

### 1. 半透明背景
- **深色主题**: `rgba(30, 30, 40, 0.92)` - 92% 不透明度
- **浅色主题**: `rgba(255, 255, 255, 0.92)` - 92% 不透明度
- **毛玻璃效果**: `backdrop-filter: blur(16px) saturate(180%)`

### 2. 紧凑布局
```
[🎬] [消息文本...............] [85%]
     [▰▰▰▰▰▰▰▰▰▰▱▱▱▱▱▱]
```

- **宽度**: 360-480px（自适应内容）
- **高度**: ~50px（紧凑单行）
- **内边距**: 10px 18px
- **圆角**: 10px

### 3. 优雅动画
- **进入动画**: 从上方滑入 + 淡入
  - 初始位置: `translateY(-20px)`
  - 最终位置: `translateY(0)`
  - 缓动函数: `cubic-bezier(0.34, 1.56, 0.64, 1)` (弹性效果)
  - 时长: 400ms

- **退出动画**: 向上滑出 + 淡出
  - 反向动画，相同参数

### 4. 进度条设计
- **高度**: 2.5px（极细）
- **圆角**: 10px
- **渐变色**: 使用 Obsidian 主题色 `--interactive-accent`
- **发光效果**: 
  - 深色: `0 0 6px rgba(120, 160, 255, 0.4)`
  - 浅色: `0 0 6px rgba(100, 140, 255, 0.3)`
- **动画**: 平滑过渡 350ms

### 5. 阴影系统
采用多层阴影营造深度感：

**深色主题**:
```css
box-shadow: 
  0 8px 32px rgba(0, 0, 0, 0.4),  /* 主阴影 - 深 */
  0 2px 8px rgba(0, 0, 0, 0.2);    /* 近阴影 - 细节 */
```

**浅色主题**:
```css
box-shadow: 
  0 8px 32px rgba(0, 0, 0, 0.1),   /* 主阴影 - 浅 */
  0 2px 8px rgba(0, 0, 0, 0.06);   /* 近阴影 - 细节 */
```

### 6. 边框设计
- **深色主题**: `1px solid rgba(255, 255, 255, 0.1)` - 微光边框
- **浅色主题**: `1px solid rgba(0, 0, 0, 0.08)` - 淡色边框

### 7. 排版
- **字体**: `var(--font-ui)` - 使用 Obsidian 系统字体
- **消息文本**: 13px, font-weight 500
- **百分比**: 12px, font-weight 600, 等宽数字
- **图标**: 18px emoji

## 🎯 视觉层次

```
层级 1 (最高): 容器阴影
层级 2:       玻璃态背景 + 毛玻璃
层级 3:       内容（图标、文字、进度条）
层级 4:       进度条发光效果
```

## 🌈 主题适配

### 自动主题检测
```typescript
const isDark = document.body.classList.contains('theme-dark');
```

### 颜色变量映射
| 元素 | 变量 | 说明 |
|-----|------|-----|
| 文本颜色 | `var(--text-normal)` | 主文本 |
| 次要文本 | `var(--text-muted)` | 百分比 |
| 成功色 | `var(--text-success)` | 完成状态 |
| 错误色 | `var(--text-error)` | 失败状态 |
| 主题色 | `var(--interactive-accent)` | 进度条 |

## 📐 尺寸规范

### 容器
- 最小宽度: 360px
- 最大宽度: 480px
- 内边距: 10px 18px
- 圆角: 10px
- 位置: 距离顶部 20px，水平居中

### 图标
- 尺寸: 18px
- 间距: 右侧 12px

### 进度条
- 高度: 2.5px
- 上边距: 6px
- 圆角: 10px

### 文字
- 消息: 13px
- 百分比: 12px
- 行高: 默认

## 🎬 动画时序

```
0ms    ━━━━━━▶  通知创建
0ms    ━━━━━━▶  初始状态（opacity: 0, translateY: -20px）
16ms   ━━━━━━▶  开始动画（requestAnimationFrame）
400ms  ━━━━━━▶  完全显示（opacity: 1, translateY: 0）
...    ━━━━━━▶  进度更新（350ms 过渡）
完成后  ━━━━━━▶  等待 2500ms
       ━━━━━━▶  开始退出动画
       ━━━━━━▶  400ms 后移除 DOM
```

## 💡 设计考量

### 为什么选择顶部中央？
1. ✅ 不遮挡主要内容区域
2. ✅ 符合用户视觉流向（从上到下）
3. ✅ 与 Obsidian 原生通知位置一致
4. ✅ 易于发现，不易忽略

### 为什么使用玻璃态？
1. ✅ 现代、轻盈的视觉感受
2. ✅ 与背景内容有视觉联系（半透明）
3. ✅ 符合当前 UI 设计趋势
4. ✅ 在深浅主题下都美观

### 为什么这么紧凑？
1. ✅ 减少对阅读和编辑的干扰
2. ✅ 信息密度适中，一目了然
3. ✅ 快速消失，不长时间占用空间
4. ✅ 优雅且不突兀

## 🔄 状态设计

### 进行中
- 图标: 🎬
- 进度条: 主题色渐变
- 文本: 常规色
- 动画: 平滑增长

### 成功
- 图标: ✓
- 进度条: 绿色 (`var(--text-success)`)
- 文本: 绿色
- 显示: 2.5 秒后自动消失

### 失败
- 图标: ✗
- 进度条: 红色 (`var(--text-error)`)
- 文本: 红色
- 显示: 4 秒后自动消失

## 📱 响应式考虑

虽然 Obsidian 主要是桌面应用，但设计仍考虑了：
- 使用相对单位和百分比
- 最小宽度确保在小窗口也不会过于压缩
- 文字省略号处理长消息

## 🎨 设计灵感

- **macOS Big Sur** - 玻璃态和半透明效果
- **VS Code** - Toast 通知的简洁性
- **Material Design 3** - 阴影系统和动画曲线
- **iOS Notification Center** - 紧凑布局和优雅动画
- **Windows 11 Fluent Design** - 现代化视觉语言

---

**设计目标**: 不打扰、有存在感、优雅、现代
